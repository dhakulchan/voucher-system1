<!DOCTYPE html>
<html>

<head>
    <title>Simple Copy Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body class="container mt-5">
    <h1>Copy Message Test</h1>

    <div class="alert alert-info">
        <strong>Instructions:</strong> Click the "Copy Message" button to test clipboard functionality.
    </div>

    <button id="copyMessage" class="btn btn-primary">
        <i class="fas fa-clipboard me-2"></i>Copy Message
    </button>

    <div id="status" class="mt-3"></div>

    <script>
        // Copy Message - Simplified version
        document.getElementById('copyMessage')?.addEventListener('click', function (e) {
            e.preventDefault();

            const status = document.getElementById('status');
            const button = document.getElementById('copyMessage');
            const originalText = button.innerHTML;

            // Show loading
            button.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Generating...';
            button.disabled = true;

            // Create basic message
            const basicMessage = `üé´ Tour Voucher
üìã Reference: BK20251005Y9IS
üë• Customer: Pumm Y
üìÖ Travel: 22/09/2025 - 22/09/2025

üìß Contact: info@dhakulchan.net
üìû Phone: +852 2392 1155`;

            // Try clipboard
            navigator.clipboard.writeText(basicMessage).then(() => {
                button.innerHTML = '<i class="fas fa-check me-2"></i>Copied!';

                // Show success toast
                const toast = document.createElement('div');
                toast.className = 'alert alert-success position-fixed';
                toast.style.cssText = 'top: 20px; right: 20px; z-index: 9999; opacity: 0.9;';
                toast.innerHTML = '<i class="fas fa-check-circle me-2"></i>Message copied to clipboard!';
                document.body.appendChild(toast);

                status.innerHTML = '<div class="alert alert-success">‚úÖ Message copied successfully!</div>';

                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.disabled = false;
                    toast.remove();
                }, 2000);

            }).catch((error) => {
                console.error('Clipboard failed:', error);
                button.innerHTML = originalText;
                button.disabled = false;

                // Fallback: show in alert
                alert('Message:\\n\\n' + basicMessage);
                status.innerHTML = '<div class="alert alert-warning">‚ö†Ô∏è Clipboard not available - message shown in alert</div>';
            });
        });
    </script>
</body>

</html>