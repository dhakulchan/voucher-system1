{% extends 'base.html' %}
{% block title %}Hotel Voucher - {{ booking.booking_reference }}{% endblock %}
{% block content %}
<h1 class="h3 pt-3 mb-3"><i class="fas fa-hotel me-2"></i>Hotel Voucher</h1>
<div class="card mb-3">
    <div class="card-header bg-primary text-white">Reservation Info</div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-6">
                <p><strong>Reference:</strong> {{ booking.booking_reference }}</p>
                <p><strong>Hotel:</strong> {{ booking.hotel_name or '-' }}</p>
                <p><strong>Room Type:</strong> {{ booking.room_type or '-' }}</p>
            </div>
            <div class="col-md-6">
                <p><strong>Check-in:</strong> {{ booking.arrival_date }}</p>
                <p><strong>Check-out:</strong> {{ booking.departure_date }}</p>
                <p><strong>Nights:</strong> {% if booking.arrival_date and booking.departure_date %}{{
                    (booking.departure_date - booking.arrival_date).days }}{% else %}-{% endif %}</p>
            </div>
        </div>
    </div>
</div>
<div class="card mb-3">
    <div class="card-header bg-success text-white">Guest</div>
    <div class="card-body">
        <p><strong>Name:</strong> {{ booking.customer.full_name or booking.customer.name }}</p>
        <p><strong>Phone:</strong> {{ booking.customer.phone }}</p>
        <p><strong>Email:</strong> {{ booking.customer.email }}</p>
        <p><strong>PAX:</strong> {{ booking.total_pax }}</p>
    </div>
</div>
<div class="card mb-3">
    <div class="card-header bg-info text-white">Guests List</div>
    <div class="card-body">
        {% set guests = booking.get_guest_list() %}
        {% if guests %}
        <ul class="mb-0">
            {% for g in guests %}<li>{{ g }}</li>{% endfor %}
        </ul>
        {% else %}
        <p class="text-muted mb-0">No guest names.</p>
        {% endif %}
    </div>
</div>
<div class="d-flex gap-2 mb-4">
    <a href="{{ url_for('voucher.generate_pdf', id=booking.id) }}" class="btn btn-primary btn-sm"><i
            class="fas fa-file-pdf me-1"></i>PDF</a>
    <a href="{{ url_for('voucher.print_voucher', id=booking.id) }}" class="btn btn-secondary btn-sm"><i
            class="fas fa-print me-1"></i>Print</a>
    <a href="{{ url_for('booking.view', id=booking.id) }}" class="btn btn-outline-dark btn-sm"><i
            class="fas fa-arrow-left me-1"></i>Back</a>
</div>
{% endblock %}